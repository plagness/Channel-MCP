apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Целевой namespace для всех ресурсов
namespace: ns-channel

# Список всех файлов ресурсов
resources:
  - namespace.yaml
  - secret.yaml
  - configmap.yaml
  - chdb-pvc.yaml
  - chdb-statefulset.yaml
  - chdb-service.yaml
  - chmcp-deployment.yaml
  - chmcp-service.yaml

# Общие метаданные для всех ресурсов
labels:
  - pairs:
      app.kubernetes.io/part-of: neuronswarm
      app.kubernetes.io/managed-by: kustomize
      project: neuronswarm
      module: channel

# Замены названий образов (опционально)
# Можно использовать для переопределения в разных окружениях
images:
  - name: pgvector/pgvector
    newName: pgvector/pgvector
    newTag: pg16
  - name: channel-mcp-chmcp
    newName: channel-mcp-chmcp
    newTag: latest
