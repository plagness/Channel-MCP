# --- Database ---
# For docker compose: CHANNEL_DB_HOST=chdb
CHANNEL_DB_HOST=chdb
CHANNEL_DB_PORT=5432
CHANNEL_DB_USER=channel
CHANNEL_DB_PASSWORD=channel_secret
CHANNEL_DB_NAME=channel_mcp

# --- MCP ---
MCP_TRANSPORT=stdio
# In compose the service listens on 3333, published host port is 3334.
MCP_PORT=3333
MCP_HOST=0.0.0.0
MCP_HTTP_TOKEN=

# --- Channels (public) ---
# Comma-separated usernames without @
CHANNEL_USERNAMES=alfa_investments,bcs_express,antidigital,centralbank_russia
CHANNELS_JSON=
CHANNEL_FETCH_INTERVAL=300
CHANNEL_HTTP_TIMEOUT=20
BACKFILL_DAYS=0
BACKFILL_MAX_PAGES=80
BACKFILL_ON_START=0

# --- Ollama (tags) ---
OLLAMA_BASE_URL=http://127.0.0.1:11434
OLLAMA_TAG_MODEL=llama3.2:3b
OLLAMA_TAG_TEMPERATURE=0.1
TAG_MAX_COUNT=30
TAG_MAX_CHARS=2000
TAG_ALIASES_JSON=
TAG_USE_CANDIDATES=1
STATUS_INTERVAL=60

# --- Telegram progress ---
BOT_TOKEN=
REPORT_CHAT_ID=1455291970
TELEGRAM_PROGRESS=0
TELEGRAM_UPDATE_INTERVAL=2.5
TELEGRAM_COMMANDS=1

# --- Telegram через telegram-mcp (рекомендуется) ---
TELEGRAM_USE_MCP=0
TELEGRAM_MCP_BASE_URL=http://tgapi:8000
TELEGRAM_MCP_BOT_ID=
TELEGRAM_MCP_CHAT_ID=
TELEGRAM_MCP_FALLBACK_DIRECT=1

# --- LLM backend routing (default: llm-mcp, fallback: Ollama) ---
LLM_BACKEND=llm_mcp
LLM_MCP_BASE_URL=http://llmcore:8080
LLM_MCP_PROVIDER=auto
LLM_BACKEND_FALLBACK_OLLAMA=1
LLM_BACKEND_TIMEOUT_SEC=30

# --- Ollama models (legacy path + fallback) ---
OLLAMA_EMBED_MODEL=nomic-embed-text
EMBEDDING_BATCH_SIZE=16
EMBED_MAX_CHARS=4000

# --- Workers intervals (seconds) ---
INGEST_INTERVAL=120
TAGGING_INTERVAL=120
EMBEDDING_INTERVAL=300

# --- Logging ---
LOG_LEVEL=info
